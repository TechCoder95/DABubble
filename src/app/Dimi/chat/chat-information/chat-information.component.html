<main>
  <section class="channel-information">
    <div
      *ngIf="isChannel"
      class="chat-details-channel"
      (mouseenter)="changeTagImg(true)"
      (mouseleave)="changeTagImg(false)"
      (click)="openDialogChannelInformation($event)"
      [ngClass]="{ 'dialog-is-open': dialogChannelInfoIsOpen }"
    >
      <img [src]="tagImg" class="tag-img" *ngIf="!isPrivateChat" />
      <img [src]="privatChatAvatar" class="privat-chat-avatar" *ngIf="isPrivateChat" />

      <h2>{{ (channelService.selectedChannel$ | async)?.name }}</h2>
      <img class="arrow-down" [src]="arrowImg" *ngIf="!isPrivateChat" />
    </div>

    <div class="channel-members" *ngIf="!isPrivateChat">
      <div
        class="channel-member-amount"
        (click)="openDialogChannelMembers($event)"
        [ngClass]="{ 'dialog-is-open': dialogChannelMembersIsOpen }"
      >
        @for (user of assignedUsers.slice(0,5); track $index) {
        <img class="img" [src]="user.avatar" />
        }
        <p class="missing-amount" *ngIf="getExtraUserCount() > 0">
          +{{ getExtraUserCount() }}
        </p>
        <p *ngIf="getExtraUserCount() < 6">
          {{ channelService.channel.assignedUser.length }}
        </p>
      </div>
      <img
        [src]="addChannelMembersImg"
        (mouseenter)="changeAddMembersImg(true)"
        (mouseleave)="changeAddMembersImg(false)"
        (click)="openDialogAddChannelMembers($event)"
      />
    </div>
  </section>

  <section *ngIf="!isChannel">
    <img src="./img/keyboard_arrow_down.png" />
    <!-- IMG OF PERSON -->
    <h2>Sofia MÃ¼ller</h2>
    <!-- NAME OF PERSON -->
  </section>
</main>
